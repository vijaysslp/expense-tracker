<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Expense Analyzer — Pro</title><link rel="manifest" href="manifest.json"><meta name="theme-color" content="#0b0f14"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script><script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script><link rel="stylesheet" href="style.css?v=4"></head><body><aside class="sidebar"><div class="brand">💸 Expense Pro</div><nav><button class="nav-btn active" data-view="dashboard">Dashboard</button><button class="nav-btn" data-view="transactions">Transactions</button><button class="nav-btn" data-view="merchants">Merchants</button><button class="nav-btn" data-view="budgets">Budgets</button><button class="nav-btn" data-view="bills">Bills Calendar</button><button class="nav-btn" data-view="insights">Insights</button><button class="nav-btn" data-view="settings">Settings</button></nav><div class="spacer"></div><div class="sidebar-footer small">v4 • Offline-ready (PWA)</div></aside><main class="content"><header class="topbar"><div class="left"><div class="search-wrap"><input id="globalSearch" type="search" placeholder="Search merchant, card, tag, note…"></div></div><div class="right actions"><button id="connectBtn" class="btn">Connect Gmail</button><button id="scanBtn" class="btn" disabled>Scan</button><label class="file-btn"><input id="fileInput" type="file" accept=".csv,.xlsx,.xls">Import CSV/XLSX</label><div class="menu"><button class="btn ghost" id="exportMenuBtn">Export ▾</button><div class="menu-items" id="exportMenu"><button id="exportCsvBtn">Export CSV</button><button id="backupBtn">Export Backup (JSON)</button><button id="exportEncryptedBtn">Export Encrypted</button></div></div></div></header><section class="card filters"><div class="row"><div><label>From</label><input type="date" id="fromDate"></div><div><label>To</label><input type="date" id="toDate"></div><div><label>Type</label><select id="typeFilter"><option value="all">All</option><option value="debit">Debits (spend)</option><option value="credit">Credits (refunds)</option></select></div><div><label>Card</label><input type="text" id="cardFilter" placeholder="e.g. 3183, Visa"></div><div><label>Category</label><select id="catFilter"><option value="all">All</option><option>Food</option><option>Travel</option><option>Shopping</option><option>Utilities</option><option>Subscriptions</option><option>Transfers</option><option>Other</option></select></div><div class="grow"></div><button id="applyFilterBtn" class="btn">Apply</button><button id="clearFilterBtn" class="btn ghost">Clear</button></div></section><section id="view-dashboard" class="view active"><section class="grid kpis"><div class="card kpi"><div class="kpi-title">Total Expenses</div><div id="totalAmt" class="kpi-value">₹ 0.00</div><div id="txCount" class="kpi-sub">0 transactions</div></div><div class="card kpi"><div class="kpi-title">By Card</div><div id="byCard" class="mono small">—</div></div><div class="card kpi"><div class="kpi-title">Upcoming Bills</div><div id="upcoming" class="small">—</div></div><div class="card kpi"><div class="kpi-title">Top Merchants</div><div id="topMerchants" class="small">—</div></div></section><section class="grid charts"><div class="card"><div class="card-title">Monthly Spend (12 mo)</div><canvas id="barMonthly" height="140"></canvas></div><div class="card"><div class="card-title">Spend by Card</div><canvas id="pieByCard" height="140"></canvas></div><div class="card"><div class="card-title">Cumulative Spend</div><canvas id="lineCumulative" height="140"></canvas></div></section><section class="card"><div class="card-title">Transactions</div><div class="table-wrap"><table id="txTable"><thead><tr><th>Date</th><th>Amount</th><th>Merchant</th><th>Card</th><th>Category</th><th>Tags</th><th>Source</th></tr></thead><tbody></tbody></table></div></section><section class="card"><div class="card-title">Notes & Logs</div><pre id="log" class="log"></pre></section></section><section id="view-transactions" class="view"><div class="card"><div class="card-title">All Transactions — edit tags & notes</div><div class="table-wrap"><table id="txTable2"><thead><tr><th>Date</th><th>Amount</th><th>Type</th><th>Merchant</th><th>Card</th><th>Category</th><th>Tags</th><th>Note</th></tr></thead><tbody></tbody></table></div></div></section><section id="view-merchants" class="view"><div class="card"><div class="card-title">Merchants — totals & drilldown</div><div id="merchantList" class="list"></div></div></section><section id="view-budgets" class="view"><div class="card"><div class="card-title">Budgets</div><div class="row"><input id="budgetCat" placeholder="Category (e.g. Food)"><input id="budgetAmt" type="number" step="0.01" placeholder="Monthly limit (₹)"><button id="addBudgetBtn" class="btn">Add/Update Budget</button></div><div id="budgetList" class="list"></div></div></section><section id="view-bills" class="view"><div class="card"><div class="card-title">Bills Calendar</div><div id="billsList" class="list small">No bills detected yet.</div></div></section><section id="view-insights" class="view"><div class="grid charts"><div class="card"><div class="card-title">Category Mix</div><canvas id="pieCategory" height="140"></canvas></div><div class="card"><div class="card-title">Weekly Heatmap (sum per weekday)</div><canvas id="barWeekday" height="140"></canvas></div><div class="card"><div class="card-title">Merchant Concentration (top 10)</div><canvas id="barMerchant" height="140"></canvas></div></div></section><section id="view-settings" class="view"><div class="card"><div class="card-title">Settings</div><div class="row"><div class="block"><h4>Data Encryption (local backups)</h4><p class="small">Optional: set a passphrase to encrypt JSON backups (AES‑GCM). Keep it safe — without it, backups can’t be read.</p><input id="passphrase" type="password" placeholder="Passphrase (optional)"></div><div class="block"><h4>PWA</h4><p class="small">Install this app to your device (browser menu → “Install app”). Works offline for UI & imports.</p><button id="registerSW" class="btn">Register Offline Mode</button></div></div></div></section></main><script src="https://accounts.google.com/gsi/client" async defer></script><script src="script.js?v=5" type="module"></script></body></html>
